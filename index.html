<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¡¸ì—… ì¶•í•˜ ë°©ëª…ë¡</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@400;700&family=Jua&display=swap" rel="stylesheet">
    
    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'kitsch-pink': '#FF9EAA',
                        'kitsch-dark-pink': '#FF748B',
                        'neon-green': '#CCFF00',
                        'retro-purple': '#E0BBE4',
                        'retro-blue': '#A0C4FF',
                    },
                    fontFamily: {
                        sans: ['Jua', 'sans-serif'],
                        hand: ['Gaegu', 'cursive'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #FFF0F5;
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png');
            background-attachment: fixed;
        }
        .retro-shadow {
            box-shadow: 4px 4px 0px 0px rgba(0,0,0,1);
        }
        .retro-shadow-sm {
            box-shadow: 2px 2px 0px 0px rgba(0,0,0,1);
        }
        .retro-shadow:active {
            box-shadow: none;
            transform: translate(4px, 4px);
        }
    </style>
</head>
<body class="text-[#171717] overflow-x-hidden">

    <main class="min-h-screen">
        <div class="max-w-6xl mx-auto px-4 py-12 space-y-12">
            
            <!-- Hero Section -->
            <section class="text-center space-y-6 py-10">
                <div class="inline-block relative">
                    <h1 class="text-6xl md:text-8xl font-black text-kitsch-pink drop-shadow-[4px_4px_0px_rgba(0,0,0,1)] transform -rotate-2">
                        ì¡¸ì—… ì¶•í•˜í•´!
                    </h1>
                    <div class="absolute -top-10 -right-10 text-6xl animate-bounce">ğŸ“</div>
                    <div class="absolute -bottom-5 -left-10 text-5xl animate-pulse">âœ¨</div>
                </div>
                
                <br>

                <p class="text-2xl md:text-3xl font-hand text-retro-purple font-bold bg-white/50 inline-block px-4 py-2 rounded-full border-2 border-dashed border-retro-purple transform rotate-1 mt-6">
                    2025ë…„ ì¡¸ì—… ì¶•í•˜ ë°©ëª…ë¡
                </p>
            </section>

            <!-- Form Section -->
            <section class="relative z-10 w-full max-w-md mx-auto">
                <div class="bg-white/80 backdrop-blur-sm border-4 border-kitsch-pink rounded-lg retro-shadow p-6">
                    <h2 class="text-center text-3xl text-kitsch-dark-pink font-bold mb-6">
                        ë°©ëª…ë¡ ë‚¨ê¸°ê¸°! âœï¸
                    </h2>
                    
                    <form id="guestbookForm" class="space-y-4">
                        <div class="space-y-2">
                            <label class="text-lg font-bold text-retro-purple block font-hand">ì´ë¦„</label>
                            <input type="text" id="nameInput" required maxlength="20"
                                class="w-full h-12 rounded-md border-2 border-black bg-white px-3 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-kitsch-pink retro-shadow-sm font-hand transition-all focus:translate-x-[2px] focus:translate-y-[2px] focus:shadow-none"
                                placeholder="ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”...">
                        </div>
                        
                        <div class="space-y-2">
                            <label class="text-lg font-bold text-retro-purple block font-hand">ë©”ì‹œì§€</label>
                            <textarea id="messageInput" required maxlength="200"
                                class="w-full min-h-[100px] rounded-md border-2 border-black bg-white px-3 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-kitsch-pink retro-shadow-sm font-hand transition-all focus:translate-x-[2px] focus:translate-y-[2px] focus:shadow-none"
                                placeholder="ì¡¸ì—… ì¶•í•˜ ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!..."></textarea>
                        </div>

                        <div class="space-y-2">
                            <label class="text-lg font-bold text-retro-purple block font-hand">ìŠ¤í‹°ì»¤ ì„ íƒ</label>
                            <div class="flex flex-wrap gap-2 justify-center p-2 bg-pink-50 rounded-lg border-2 border-dashed border-kitsch-pink" id="stickerContainer">
                                <!-- Stickers injected by JS -->
                            </div>
                            <input type="hidden" id="stickerInput" value="ğŸ“">
                        </div>

                        <button type="submit" 
                            class="w-full bg-neon-green hover:bg-[#b3e600] text-black font-bold text-xl mt-4 h-12 rounded-md border-2 border-black retro-shadow transition-all active:translate-x-[4px] active:translate-y-[4px] active:shadow-none">
                            ë©”ì‹œì§€ ë‚¨ê¸°ê¸°! ğŸ’Œ
                        </button>
                    </form>
                </div>
            </section>

            <!-- Divider -->
            <div class="flex items-center justify-center space-x-4">
                <div class="h-1 w-full bg-black rounded-full"></div>
                <span class="text-4xl">ğŸ’–</span>
                <div class="h-1 w-full bg-black rounded-full"></div>
            </div>

            <!-- Messages Section -->
            <section>
                <h2 class="text-4xl font-bold text-center mb-8 text-neon-green drop-shadow-[2px_2px_0px_rgba(0,0,0,1)]">
                    ì¶•í•˜ ë©”ì‹œì§€ ğŸŒˆ
                </h2>
                <div id="messageWall" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4">
                    <!-- Messages injected by JS -->
                </div>
                <div id="emptyState" class="hidden col-span-full text-center py-20">
                    <p class="text-2xl font-hand text-gray-400">ì•„ì§ ë©”ì‹œì§€ê°€ ì—†ì–´ìš”... ì²« ë²ˆì§¸ ì£¼ì¸ê³µì´ ë˜ì–´ì£¼ì„¸ìš”! ğŸŒŸ</p>
                </div>
            </section>

            <!-- Footer -->
            <footer class="text-center py-8 font-hand text-gray-500">
                <p>ì¡¸ì—…ì„ ì§„ì‹¬ìœ¼ë¡œ ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ’–</p>
            </footer>
        </div>
    </main>

    <script>
        // Constants
        const STICKERS = ["ğŸ“", "ğŸ‰", "ğŸ’–", "âœ¨", "ğŸ€", "ğŸ¶", "ğŸ±", "ğŸŒˆ", "ğŸ€", "ğŸ§¸"];
        
        // State
        let selectedSticker = STICKERS[0];

        // DOM Elements
        const form = document.getElementById('guestbookForm');
        const stickerContainer = document.getElementById('stickerContainer');
        const stickerInput = document.getElementById('stickerInput');
        const messageWall = document.getElementById('messageWall');
        const emptyState = document.getElementById('emptyState');

        // Initialize Stickers
        STICKERS.forEach(sticker => {
            const btn = document.createElement('button');
            btn.type = 'button';
            btn.textContent = sticker;
            btn.className = `text-2xl p-2 rounded-full transition-all hover:scale-110 active:scale-90 ${sticker === selectedSticker ? 'bg-kitsch-pink shadow-lg' : 'hover:bg-white'}`;
            btn.onclick = () => {
                selectedSticker = sticker;
                stickerInput.value = sticker;
                updateStickerStyles();
            };
            stickerContainer.appendChild(btn);
        });

        function updateStickerStyles() {
            Array.from(stickerContainer.children).forEach(btn => {
                if (btn.textContent === selectedSticker) {
                    btn.className = `text-2xl p-2 rounded-full transition-all hover:scale-110 active:scale-90 bg-kitsch-pink shadow-lg`;
                } else {
                    btn.className = `text-2xl p-2 rounded-full transition-all hover:scale-110 active:scale-90 hover:bg-white`;
                }
            });
        }

        // Load Messages
        function loadMessages() {
            const messages = JSON.parse(localStorage.getItem('guestbook_messages') || '[]');
            renderMessages(messages);
        }

        function renderMessages(messages) {
            messageWall.innerHTML = '';
            
            if (messages.length === 0) {
                emptyState.classList.remove('hidden');
                return;
            }
            
            emptyState.classList.add('hidden');

            messages.forEach((msg, index) => {
                const card = document.createElement('div');
                
                // Random styles
                const rotate = index % 2 === 0 ? 'rotate-1' : '-rotate-1';
                const bg = index % 3 === 0 ? 'bg-white' : index % 3 === 1 ? 'bg-pink-50' : 'bg-purple-50';
                
                card.className = `relative transition-all hover:scale-105 hover:z-10`;
                card.innerHTML = `
                    <div class="rounded-lg border-2 border-black ${bg} text-card-foreground retro-shadow ${rotate} p-4 min-h-[150px] flex flex-col justify-between">
                        <div class="absolute -top-3 -right-3 text-4xl filter drop-shadow-md transform rotate-12">
                            ${msg.sticker}
                        </div>
                        <p class="text-lg font-hand leading-relaxed break-words pt-2">
                            "${msg.content}"
                        </p>
                        <div class="mt-4 flex justify-between items-end border-t-2 border-dashed border-gray-300 pt-2">
                            <span class="font-bold text-kitsch-dark-pink">@${msg.name}</span>
                            <span class="text-xs text-gray-500">
                                ${new Date(msg.createdAt).toLocaleDateString()}
                            </span>
                        </div>
                    </div>
                `;
                messageWall.appendChild(card);
            });
        }

        // Handle Submit
        form.onsubmit = (e) => {
            e.preventDefault();
            const name = document.getElementById('nameInput').value;
            const content = document.getElementById('messageInput').value;
            
            if (!name || !content) return;

            const newMessage = {
                id: Date.now().toString(),
                name,
                content,
                sticker: selectedSticker,
                createdAt: new Date().toISOString()
            };

            const messages = JSON.parse(localStorage.getItem('guestbook_messages') || '[]');
            messages.unshift(newMessage);
            localStorage.setItem('guestbook_messages', JSON.stringify(messages));

            // Reset form
            document.getElementById('nameInput').value = '';
            document.getElementById('messageInput').value = '';
            selectedSticker = STICKERS[0];
            updateStickerStyles();

            loadMessages();
        };

        // Initial Load
        loadMessages();

    </script>
</body>
</html>
